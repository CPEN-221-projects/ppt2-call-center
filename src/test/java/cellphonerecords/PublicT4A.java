package cellphonerecords;

import org.junit.jupiter.api.BeforeAll;
import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.TestInstance;

import static org.junit.jupiter.api.Assertions.*;

@TestInstance(TestInstance.Lifecycle.PER_CLASS)
public class PublicT4A {

    private CallLogger log;

    private String[] from  = { "9742906784", "2178989899", "9742906784", "2178989899", "7782223333", "6045678901", "2375431266", "2178989899", "9742906784", "5307658901", "6048248432", "2178989899", "2375431266", "7782223333", "2178989899", "6048270905", "7326593244", "9742906784", "6048248432", "6048248432", "2365554444", "2178989899", "2375431266", "6048248432", "5307658901", "2375431266", "6045678901", "9742906784", "7326593244", "9742906784", "7782223333", "2365554444", "2365554444", "6045678901", "2375431266", "2375431266", "6045678901", "2178989899", "2178989899", "6048248432", "2375431266", "6045678901", "9742906784", "6048270905", "5307658901", "6048248432", "6048270905", "6048270905", "7782223333", "9742906784" };

    private String[] to    = { "6048270905", "7326593244", "7326593244", "6048270905", "6048248432", "2375431266", "2178989899", "2375431266", "2178989899", "6048248432", "9742906784", "2375431266", "7782223333", "2375431266", "6048270905", "6048248432", "5307658901", "2365554444", "6045678901", "2375431266", "9742906784", "7782223333", "7326593244", "2375431266", "2375431266", "7326593244", "9742906784", "2178989899", "6045678901", "7782223333", "6045678901", "2178989899", "6048248432", "6048248432", "6045678901", "6048248432", "2365554444", "7326593244", "5307658901", "2375431266", "7326593244", "5307658901", "2375431266", "7782223333", "9742906784", "5307658901", "2178989899", "2365554444", "6045678901", "2365554444" };

    private int[] startTime = { 5904, 4499, 3927, 5765, 2041, 2516, 4295, 4886, 5655, 231, 3290, 2081, 399, 1720, 3734, 2475, 5643, 584, 1836, 1083, 1809, 5870, 5296, 5678, 3682, 5984, 1366, 3010, 2624, 2000, 3131, 4640, 1514, 3714, 5942, 568, 955, 2462, 4083, 666, 3460, 5085, 4907, 3469, 2602, 5503, 917, 5639, 1295, 1122 };

    private int[] duration = { 128, 63, 279, 64, 267, 27, 123, 18, 54, 173, 142, 129, 158, 140, 206, 256, 47, 74, 193, 196, 186, 276, 181, 98, 159, 148, 196, 247, 268, 36, 201, 22, 155, 115, 42, 77, 31, 135, 163, 55, 66, 279, 39, 203, 95, 65, 276, 34, 24, 25 };

    @BeforeAll
    public void setup() {
        log = new CallLogger();

        for (int i = 0; i < from.length; i++) {
            log.add(new CallRecord(from[i], to[i], startTime[i], duration[i]));
        }
    }

    @Test
    public void testPeakUsage1() {
        assertEquals(11, log.getPeakUsage());
    }

    @Test
    public void testPeakUsage2() {
        assertEquals(0, (new CallLogger()).getPeakUsage());
    }


}